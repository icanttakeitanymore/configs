# Грубо говоря это статик мак на порт, причем мак может быть не один.
# Когда юзер втыкает устройство которого нет в листе порта, порт начинает дропать все фреймы от всех устройств, т.е. просто отключается.
# Прежде всего порт нужно перевести в режим доступа(acess), следовательно trunk не может работать в режиме port-secutity.
~>en
~#conf t
~(config)#int fa 0/X
~(config-if)# switchport port-security
# если нам известно что к этому порту будет подключена рабочая станция/сервер разрешается включить функцию portfast,
# это позволит пропустить состояние listening и learning, и перейти в состояние forwarding.
# полезно при присутствии в сети DHCP сервера.
~(config-if)# spanning-tree portfast
# Далее необходимо вкючить режим безопастного порта.
(config-if)# switchport port-security
# Указать кмаксимальное количество разрешенных МАК-адресов для интерфейса.
(config-if)# switchport port-security maximum <N>
# Указать какое действие будет выполнять порт коммутатора при нарушении безопасности.
(config-if)# switchport port-security violation {protect | restrict shutdown}
# Стандартно настройка предполагает выключение интерфейса shutdown.
# Указываем разрешенные мак-адреса.
(config-if)# switchport port-security mac-address <mac-address>
# так же можно использоваь автоматическое обнаружение маков для подключенных в данный момент к коммутатору узлов.
(config-if)# switchport port-security mac-address sticky
# чтобы посмотреть состояние port-security на интерфейсе необходимо выполнить следующее.
~# show port-security interface fastEthernet 0/X
