#####
	rndc для входа в консоль /h для хелпа
#####
<---> Для того чтобы изменить имя сокета на сокет нужно вписать в named.conf
controls {
	UNIX "/path/to/socket/rndc" perm 0660 owner #UID group #ID ;
};
<--->
#####
<---> Управление rndc сеть.
 rndc -c 127.0.0.1/953
<---> Конфигурация
controls {
	inet * port 953 allow {any;} keys {"rndc-key";};
};


Чтобы пользоваться программой rndc, следует создать файл rndc.conf –
источник информации о ключах и серверах имен для программы rndc.
rndc.conf обычно проживает в каталоге /etc. Вот пример простого фай<--->
getpid
Отображает текущий идентификатор процесса DNS
сервера.
<--->
status
Отображает довольно объемную информацию о состоянии DNS сер
вера, включая его версию, уровень отладки, число выполняющихся
передач зон, а также информацию о том, включена ли регистрация
запросов.
<--->
start
Запускает DNS
сервер. Если необходимо передать DNS
серверу named определенные аргументы командной строки, их можно указать
после команды start. Пример: start –c /usr/local/etc/named.conf.
<--->
<--->
<--->
stop
Завершение работы DNS
сервера с записью динамических зон в файл
данных.
<--->
<--->
restart
Останов и последующий запуск DNS
сервера. Как и для команды
start, могут быть указаны аргументы командной строки для named.
<--->
<--->
exec
Останов и последующий запуск DNS
сервера. В отличие от restart,
<--->
<--->
exec не позволяет передавать аргументы командной строки для named; DNS
сервер просто стартует еще раз с теми же аргументами.
<--->
<--->
reload
Перезагрузка DNS
сервера. Эту команду можно послать первично
му серверу DNS после изменения файла его настройки либо одного
или нескольких файлов данных зон. В качестве аргументов reload
можно указывать доменные имена; в этом случае происходит перезагрузка только для указанных зон.
<--->
<--->
reconfig [–noexpired]
Предписывает DNS
серверу проверить файл настройки на предмет
обнаружения создания новых или удаления старых зон. Эту команду можно послать DNS
серверу, если были удалены или добавлены
зоны, но данные существующих зон не изменились. Указание клю
ча –noexpired предписывает DNS
серверу не реагировать сообщени
ями об ошибках, связанных с устареванием зональных данных. Та
кая возможность очень удобна, если DNS
сервер является автори
тетным для тысяч зон, и необходимо избежать получения излиш
них сообщений об устаревании зон.
<--->
<--->
<--->
dumpdb
Создает дамп внутренней базы данных DNS
сервера в файле named_dump.db – в текущем каталоге DNS
сервера.
<--->
<--->
<--->
stats
Записывает статистику работы DNS
сервера в конец файла named.stats, который расположен в каталоге /usr/tmp (BIND 4) либо
в текущем каталоге DNS сервера (BIND 8).
<--->
<--->
<--->
trace [level]
Добавляет отладочную информацию в конец файла named.run, рас
положенного в текущем каталоге DNS
сервера. Степень подробности отладочного вывода контролируется увеличением уровня отладки (level). Информация о данных, предоставляемых на каждом из
уровней, содержится в главе 13.
notrace
Выключает отладку.
<--->
<--->
querylog (или qrylog )
Включает или выключает регистрацию всех запросов в log файле
<--->
<--->
syslog. Регистрация запросов происходит с приоритетом LOG_INFO.
Сервер named должен быть собран с ключом QRYLOG (по умолчанию QRYLOG задан).
<--->
<--->
quit
Завершение сеанса управления.
<--->
<--->


ла rndc.conf:
options};
{
defaulserver localhost;
defaulkey "rndkey";
key "rndkey" {
algorithm hmamd5;
secret "Zm9vCg==";
};
<--->
#####
<---> Перечитать конфиги
 rndc reload
#####
Чтобы пользоваться программой rndc, следует создать файл rndc.conf –
источник информации о ключах и серверах имен для программы rndc.
rndc.conf обычно проживает в каталоге /etc. Вот пример простого фай<--->
getpid
Отображает текущий идентификатор процесса DNS
сервера.
<--->
status
Отображает довольно объемную информацию о состоянии DNS сер
вера, включая его версию, уровень отладки, число выполняющихся
передач зон, а также информацию о том, включена ли регистрация
запросов.
<--->
start
Запускает DNS
сервер. Если необходимо передать DNS
серверу named определенные аргументы командной строки, их можно указать
после команды start. Пример: start –c /usr/local/etc/named.conf.
<--->
<--->
<--->
stop
Завершение работы DNS
сервера с записью динамических зон в файл
данных.
<--->
<--->
restart
Останов и последующий запуск DNS
сервера. Как и для команды
start, могут быть указаны аргументы командной строки для named.
<--->
<--->
exec
Останов и последующий запуск DNS
сервера. В отличие от restart,
<--->
<--->
exec не позволяет передавать аргументы командной строки для named; DNS
сервер просто стартует еще раз с теми же аргументами.
<--->
<--->
reload
Перезагрузка DNS
сервера. Эту команду можно послать первично
му серверу DNS после изменения файла его настройки либо одного
или нескольких файлов данных зон. В качестве аргументов reload
можно указывать доменные имена; в этом случае происходит перезагрузка только для указанных зон.
<--->
<--->
reconfig [–noexpired]
Предписывает DNS
серверу проверить файл настройки на предмет
обнаружения создания новых или удаления старых зон. Эту команду можно послать DNS
серверу, если были удалены или добавлены
зоны, но данные существующих зон не изменились. Указание клю
ча –noexpired предписывает DNS
серверу не реагировать сообщени
ями об ошибках, связанных с устареванием зональных данных. Та
кая возможность очень удобна, если DNS
сервер является автори
тетным для тысяч зон, и необходимо избежать получения излиш
них сообщений об устаревании зон.
<--->
<--->
<--->
dumpdb
Создает дамп внутренней базы данных DNS
сервера в файле named_dump.db – в текущем каталоге DNS
сервера.
<--->
<--->
<--->
stats
Записывает статистику работы DNS
сервера в конец файла named.stats, который расположен в каталоге /usr/tmp (BIND 4) либо
в текущем каталоге DNS сервера (BIND 8).
<--->
<--->
<--->
trace [level]
Добавляет отладочную информацию в конец файла named.run, рас
положенного в текущем каталоге DNS
сервера. Степень подробности отладочного вывода контролируется увеличением уровня отладки (level). Информация о данных, предоставляемых на каждом из
уровней, содержится в главе 13.
notrace
Выключает отладку.
<--->
<--->
querylog (или qrylog )
Включает или выключает регистрацию всех запросов в log файле
<--->
<--->
syslog. Регистрация запросов происходит с приоритетом LOG_INFO.
Сервер named должен быть собран с ключом QRYLOG (по умолчанию QRYLOG задан).
<--->
<--->
quit
Завершение сеанса управления.
<--->
<--->


ла rndc.conf:
options};
{
defaulserver localhost;
defaulkey "rndkey";
key "rndkey" {
algorithm hmamd5;
secret "Zm9vCg==";
};
<--->
#####
<---> Перечитать конфиги
 rndc reload
#####

<--->Чтобы пользоваться программой rndc, следует создать файл rndc.conf –
источник информации о ключах и серверах имен для программы rndc.
rndc.conf обычно проживает в каталоге /etc. Вот пример простого фай
ла rndc.conf:

options {
	defaulserver localhost;
	defaulkey "rndkey";
};

key "rndkey" {
	algorithm hmamd5;
	secret "Zm9vCg==";
};
Синтаксис этого файла очень похож на синтаксис файла named.conf.
Либо выполнить команду rndc-confgen

Управление отдельным сервером

server localhost {
key "rndkey";
};
server example.com {
key "example";
};

>rndc -s example.com reload


	reload
То же, что для команды ndc.
	refresh zone
Принудительное обновление указанной зоны (то есть SOAзапрос
к первичному серверу этой зоны).
	retransfer zone
Немедленная передача указанной зоны без проверки порядкового
номера.
	freeze zone
Приостановить динамические обновления указанной зоны. Подроб
ности в главе 10.
	thaw zone
Возобновить динамические обновления указанной зоны. Подробно
сти в главе 10.
	reconfig
То же, что для команды ndc.
	stats
То же, что для команды ndc.
	querylog
То же, что для команды ndc.
	dumpdb
То же, что для команды ndc. Также позволяет выборочно записать
только кэш при помощи ключа –cache, либо зоны, для которых
сервер является авторитетным, при помощи ключа –zones, либо то
и другое при помощи ключа –all.
	stop
То же, что для команды ndc.
	halt
То же, что stop, но без сохранения очереди динамических обновле
ний.
	trace
То же, что для команды ndc.
	notrace
То же, что для команды ndc.
	flush
Опустошает кэш сервера имен.
	flushname name
Удаляет из кэша сервера имен все записи, связанные с указанным
доменом.
	status
То же, что для команды ndc.
	recursing
Записать информацию о выполняемых в настоящий момент рекур
сивных запросах в файл named.recursing в текущем рабочем ката
логе.

