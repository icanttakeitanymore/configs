## TSIG - tranaction signatures(транзакционные подписи)
## Необратимые хеш-функции HMAC-MD5 128 bit
key <key-name> {
	algorithm hmac-md5;
	secret "==secret==";
};
## Документ RFC по TSIG рекомендует задавать имя ключа, отражающее пару узлов, которые пользуются ключом
## Так же рекомендуется использовать разные ключи для каждого канала. Имя ключа должно быть одинаковым на паре узлов.
wormhole.movie.edu.
## Для генерации
dnssec-keygen -a HMAC-MD5 -b 128 -n HOST <имя хоста>
## Для правильной работы TSIG важно чтобы время серверов было синхронизировано 
## ключик кладётся в отдельный файлик с правами 0600 и инклудится в named.conf
## ключик в bind9 можно обновлять через nsupdate -y имя:ключ
## Следующее предписаниие говорит подписывать запросы на сервер 10.0.0.1 ключиком local.net
server 10.0.0.1 {
	keys {local.net;};
};
## Подписание передач зон
zone "local.net" {
	type slave;
	masters {10.0.0.1 key ns1.local.net;};
	file <...>;
};
## И трансфер по ключу, ключ должен быть у того кому мы отдаём зону.
zone "local.net" {
	type master;
	file <db.local.net>";
	allow-transfer {key ns1.local.net;};
};
